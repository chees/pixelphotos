<!DOCTYPE html>
<html>
<head>
  <title>Photo pixels</title>
  <style>
body {
  margin: 0;
  background: url(dog.jpg) no-repeat center center fixed;
  background-size: cover;
}
  </style>
</head>
<body>
<canvas width="600" height="400"></canvas>
<script>
var images = [
  'dog.jpg',
  'cat.jpg'
];

var canvas = document.querySelector('canvas')
canvas.width = document.body.scrollWidth;
canvas.height = document.body.scrollHeight;
var ctx = canvas.getContext('2d');
ctx.fillStyle = '#000000';
ctx.fillRect(0, 0, canvas.width, canvas.height);

var pixels = canvas.width * canvas.height;
function draw() {
  ctx.clearRect(
    Math.floor(Math.random() * canvas.width),
    Math.floor(Math.random() * canvas.height),
    Math.floor(Math.random() * 25),
    Math.floor(Math.random() * 25));
  if (state == 'drawing') {
    setTimeout(draw, pixels/ 50000);
  }
}

var state = 'drawing';
var image = 0;
draw();

document.body.addEventListener('click', function() {
  state = 'stopped';
  ctx.clearRect(0, 0, canvas.width, canvas.height);
});

document.body.addEventListener('keydown', function() {
  ctx.fillRect(0, 0, canvas.width, canvas.height);
  image++;
  document.body.style.backgroundImage = 'url(' + images[image] + ')';
  state = 'drawing';
  draw();
});

</script>
</body>
</html>
